
<!doctype html>

<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="theme-color" content="#4F7DC9">
  <meta charset="UTF-8">
  <title>Embed Analytics with ThoughtSpot Everywhere</title>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://storage.googleapis.com/codelab-elements/codelab-elements.css">
  <style>
    .success {
      color: #1e8e3e;
    }
    .error {
      color: red;
    }
  </style>
</head>
<body>
  <google-codelab-analytics gaid="UA-49880327-14"></google-codelab-analytics>
  <google-codelab codelab-gaid="UA-xx"
                  id="thoughtspot-everywhere-developer-workshop"
                  title="Embed Analytics with ThoughtSpot Everywhere"
                  environment="web"
                  feedback-link="">
    
      <google-codelab-step label="What is the workshop about?" duration="5">
        <h2 is-upgraded><strong>Objectives / Goal:</strong></h2>
<p>This workshop is designed to introduce developers to ThoughtSpot Everywhere, how to embed analytics into JavaScript-based web applications, and integrate ThoughtSpot into typical devops toolchains. No prior experience, or paid software licenses, is required. </p>
<h2 is-upgraded><strong>What you will learn:</strong></h2>
<p>The workshop is broken into 3 parts, with the learning objectives as follows:</p>
<ul>
<li>Part 1</li>
<li>How to create search, visualizations, and liveboards to analyze data</li>
<li>How to use the developer playground to generate javascript code to embed ThoughtSpot elements into a web app</li>
<li>How to modify actions available to users and apply hidden runtime filters </li>
<li>Part 2</li>
<li>How to use the Visual Embed SDK to embed ThoughtSpot components into a ReactJS web app</li>
<li>Part 3</li>
<li>How to use the ThoughtSpot Modeling Language and the ThoughtSpot Everywhere APIs to perform typical devops functions</li>
</ul>
<h2 is-upgraded><strong>What you need:</strong></h2>
<ul>
<li>A basic understanding of Git and GitHub (you must have Git command line tools installed prior to the workshop)</li>
<li>A laptop with administrator access. You will install some software and frameworks during the workshop</li>
<li>A general understanding of javascript and web development. The tutorial uses ReactJS for a web framework. You don&#39;t have to be an expert, but some knowledge helps. </li>
<li>A general understanding of RESTful APIs and HTTP</li>
</ul>


      </google-codelab-step>
    
      <google-codelab-step label="Sign up for Free Trial" duration="5">
        <p>Open a browser and go to <a href="https://developers.thoughtspot.com/" target="_blank">https://developers.thoughtspot.com/</a>, then tap on the FREE TRIAL button. Even if you have an existing account, please sign up for a new Free Trial account for this workshop. Complete the required fields, and tap Submit. Your account will be provisioned, and you will receive an email to complete the process. Check your spam folder if you haven&#39;t received it within a few minutes.</p>
<p>Once your account is provisioned and you log in for the first time, you will see figure 1 (below).  </p>
<p>Otherwise, you may see figure 2.  We will skip these and go straight to the ThoughtSpot home page by selecting the ThoughtSpot logo or HOME.   </p>
<p><strong>Figure 1:  Hello page                                        Figure 2:  Connection your data</strong></p>
<p class="image-container"><img style="width: 262.50px" src="img/cf0d18d420e5f722.png">        <img style="width: 273.50px" src="img/ddcf5f4adc305d79.png"></p>


      </google-codelab-step>
    
      <google-codelab-step label="Part 1: Learn the ThoughtSpot Platform" duration="0">
        <p>Part 1 of this workshop will leverage the low-code tools to  create search, visualizations, and liveboards to analyze data. And, introduce you to the developer playground to generate javascript code to embed ThoughtSpot elements into a web app.</p>


      </google-codelab-step>
    
      <google-codelab-step label="Create Two Search Answers and Liveboard" duration="15">
        <p>You will create a couple of fresh ThoughtSpot Answers using the default &#34;Sample Retail - Apparel &#39;&#39; worksheet and Pin them in a new Liveboard. The new liveboard will then be used in the Developer Playground to generate much of the JavaScript code required to embed ThoughtSpot into webapps. </p>
<ol type="1" start="1">
<li><strong>Select the ThoughtSpot logo or the HOME link on the ThoughtSpot top nav menu bar.</strong></li>
<li><strong>Select Search Data from the Home page as shown below<br><br></strong><img style="width: 546.50px" src="img/c36a9ecac2e2b332.png"><br></li>
</ol>
<p><em>The Search Answers and Search Data buttons toggle and are sticky meaning the next time you visit the home page and select the search bar it will bring you right to the Search Data search bar.</em></p>
<ol type="1" start="3">
<li><strong>Confirm that Sample Retail - Apparel  is the selected data source.</strong></li>
<li><strong>Let&#39;s create the first search result for your pinboard that shows the Show the monthly trend of sales over the last 2 years<br></strong></li>
</ol>
<ol type="1" start="1">
<li>Enter in the search bar:    Sales      Monthly     Last 2 years </li>
<li>Press <strong>Enter</strong>, Select <strong>Go</strong>, or <strong>click</strong> below the search bar to launch the query.</li>
</ol>
<p class="image-container"><img style="width: 366.00px" src="img/1b416bf960ea98df.png"></p>
<p><em>FYI: Colors legend for items in the Search bar (Green = Measures, Blue = Attributes, Grey = filters).</em></p>
<p>3.<strong> Now Pin that answer to a new liveboard</strong></p>
<ol type="1" start="1">
<li>Select the ‘ <strong>Pin   </strong> button on the top right of the visualization window. </li>
</ol>
<p><em>If this is the first time you are doing this then figure 3 will be displayed and the workflow for this trial automatically creates a pinboard with your login name + pinboard.  Otherwise, the </em></p>
<p><strong><em>Pin to Liveboard</em></strong></p>
<p><em> form is displayed in figure 4.<br></em></p>
<p class="image-container"><img style="width: 290.92px" src="img/94244a7070fbd1b2.png">    <img style="width: 287.17px" src="img/84939b5c5423d63e.png"></p>
<p>        Figure 3                                        Figure 4</p>
<p>If you are prompted as in Figure 4,  then select +Create liveboard </p>
<p class="image-container"><img style="width: 271.50px" src="img/f795d1aa1e4003cb.png"><br></p>
<p>and enter &#34;<strong>Sales Analysis Liveboard</strong>&#34;  <em>(the word liveboard is not necessary. Only using for this illustration) </em>and then select ‘ <strong>Pin  </strong><em>(or the checkmark which is only shown the first time the liveboard is to be created). </em></p>
<p class="image-container"><img style="width: 234.38px" src="img/dd2ec3cddaa41814.png"></p>
<p>4. <strong>Start a new Search that shows the top 15 stores by their sales for last month.</strong></p>
<ol type="1" start="1">
<li>Select the &#34;X&#34; on the right side of the search bar to start a new search. </li>
</ol>
<p class="image-container"><img style="width: 391.50px" src="img/44cbf273e65f3d70.png"></p>
<ol type="1" start="2">
<li>Enter in the search bar:    Sales      Store     Top 15    Last month  </li>
<li>Then press <strong>Enter</strong>, Select <strong>Go</strong>, or <strong>click</strong> below the search bar to launch the query.  While you can change the chart time, keep this one for now.  <br><br><em>Note the top 15 include stores from all over the USA.  You will see how run time filters will be applied later to focus on the top 15 in a particular region as an example. </em></li>
</ol>
<p class="image-container"><img style="width: 436.50px" src="img/268cfe242ec91ae8.png"></p>
<p><em>Now pin the answer to the liveboard you created previously. </em></p>
<ol type="1" start="4">
<li>Select the ‘ <strong>Pin </strong>action, select the <strong>Sales Analysis Liveboard</strong> and finally select ‘ <strong>Pin  </strong> (at the bottom of the <strong><em>Pin to Liveboard</em></strong> window) to add it. </li>
</ol>
<p>5. View your liveboard:</p>
<ol type="1" start="1">
<li>Select <strong>LIVEBOARDS</strong> on the ThoughtSpot top navbar, select<strong> Sales Analysis Liveboard</strong> to open it.</li>
</ol>
<p class="image-container"><img style="width: 495.00px" src="img/6c8f8f7360863679.png"></p>
<p>Congratulations. You now have a liveboard with 2 search answers and are ready to embed it in the ThoughtSpot Everywhere Developer Playground.  </p>


      </google-codelab-step>
    
      <google-codelab-step label="Introduction to the Developer Playground" duration="5">
        <ol type="1" start="1">
<li>Select <strong>DEVELOP</strong> on the ThoughtSpot top navbar to open the Developer playground.<br><br><img style="width: 624.00px" src="img/aef610778f55736d.png"><br><br>The Develop area contains 4 sections: Home, Guide, Playground, Customizations. </li>
</ol>
<ul>
<li><strong>Home</strong> provides immediate access to overview, 3 methods for embedding Search, Visualizations, and Pinboards, plus 1 method for accessing data via API where you then control how you want to visualize it. </li>
<li><strong>Guide</strong> provides quick access to all of the visual embed commands and Rest API calls.</li>
<li><strong>Playground</strong> provides a cloud-based sandbox environment to generate and test  code needed to embed the ThoughtSpot Search experience, Visualizations/Liveboards that you or others on your team create, and the Full ThoughtSpot App (white labeling). </li>
<li><strong>Customizations</strong> provide access to creating custom Actions that can invoke a URL or trigger a callback in your parent application, changing the Styles (look and feel) for app, visualizations, and white labeling, establish Security Settings to configure automatic authentication and query data programmatically with the REST API. <br><br><em>Note: Customizations are only available in the paid version of ThoughtSpot and not the free trial.</em></li>
</ul>


      </google-codelab-step>
    
      <google-codelab-step label="Embed your liveboard inside a web app" duration="15">
        <p><em>Begin the playground experience by embedding the liveboard you created into the sample data app sandbox provided within the Developer Playground . </em></p>
<ol type="1" start="2">
<li>Select <strong>Pinboard</strong> from the <strong>Playground</strong> menu. <br><br><em>If this is your first time doing this, a Start tour option is shown which will guide you through the steps to select and embed the ThoughtSpot object. For now, select No Thanks</em>. <em>Use the Start Tour button on the nav bar to revisit any time in free trial. <br></em></li>
</ol>
<p class="image-container"><img style="width: 624.00px" src="img/6f4a54e3476ec380.png"><br></p>
<ol type="1" start="3">
<li>The ‘Select feature to embed&#39; is already set to Liveboard, select your pinboard and run to view it in the sample app</li>
</ol>
<ol type="1" start="1">
<li>Select your Liveboard &#34;<strong>Sales Analysis Liveboard</strong>&#34; from the drop-down selection menu and notice that upon choosing the liveboard, the code window on the bottom left automatically highlights the code that you would copy/paste directly into your data app. <br><br><img style="width: 421.50px" src="img/58384bed8112cae9.png"></li>
<li>Select ‘ <strong>Run   </strong>to render it in the sample SpotShop data app window.    <br><br><img style="width: 417.50px" src="img/46e33c95cdd80210.png"></li>
</ol>
<p><strong>Information</strong>: Pinboards have recently been replaced by Liveboards. This change is taking place in phases. The first phase will be deployed December 2021 and will include product naming, navigation, and UI. Phase two, available in 2022 will update API paths, parameters and SDKs. Until Phase two is deployed, you will still need to refer to pinboards within any code related development. </p>
<p>Task 4: Modify Available Actions<br>There are many actions that can be disabled or hidden for example and all are documented in the Visual Embed guide accessible from the DEVELOP page and the Try It Out feature built into the documentation will bring your display directly to the area to apply them.   You will apply two actions below</p>
<ol type="1" start="1">
<li>First, look at the default actions available from the Pinboard menu.</li>
</ol>
<ol type="1" start="1">
<li>Select &#34;...&#34; on the top right of the pinboard view to expose the actions.<br><br><img style="width: 478.50px" src="img/3c838af0e7ea1618.png"></li>
<li>Second, <strong>disable</strong> the <strong>Save</strong> action and <strong>hide</strong> the <strong>Make a copy, Download as PDF and Add Filters</strong> actions.</li>
</ol>
<ol type="1" start="1">
<li>Select <strong>Modify available actions</strong> under User experience customizations in the playground left pane. Notice the code window again, highlights the code to be affected.</li>
</ol>
<p class="image-container"><img style="width: 329.33px" src="img/54a678e3f9abc482.png"></p>
<ol type="1" start="2">
<li>Enter &#34;<strong>Action.Save</strong>&#34; inside the &#34;{}&#34; for the disabledActions setting. </li>
<li>Change the &#34;Reason for disabling&#34; to &#34;<strong>Premium action, request upgrade.</strong>&#34; for the disabledActionReason</li>
<li>Enter &#34;<strong>Action.MakeACopy,Action.DownloadAsPdf,Action.AddFilter</strong>&#34; inside the &#34;[]&#34; for the hiddenActions setting.</li>
<li>Select ‘ <strong>Run   </strong>to render the changes.</li>
<li>Select the pinboard menu &#34;...&#34; to view the results.</li>
<li>Hover over <strong>Save</strong> to see the reason. Notice the other actions specified above are hidden.</li>
</ol>
<p class="image-container"><img style="width: 477.43px" src="img/9b289518ed0aae5d.png"><br></p>
<p>You have successfully applied modified actions. </p>
<p><em>Note that the code window is flexible where you can type in commands as well. </em></p>


      </google-codelab-step>
    
      <google-codelab-step label="Apply Run Time Filters" duration="10">
        <p>Applying run time filters that allow you to push filters to the liveboard. You may opt for forcing a particular filter based upon the user&#39;s role for example, or perhaps you would like to present filter choices in your own data app nav bar and push the selected values that the user selects. <br></p>
<ol type="1" start="1">
<li>The current visualizations show data for all regions.  The Total Sales by Store chart shows the top 15 stores for all regions. You will apply a run time filter to set the region to &#34;Midwest&#34; so the top 15 is now only for the stores in the Midwest region.</li>
</ol>
<ol type="1" start="1">
<li>Select <strong>Set runtime filters </strong>under User experience customizations in the playground left pane. Notice the code window again, highlighting the code to be affected.</li>
</ol>
<p class="image-container"><img style="width: 349.87px" src="img/89df5bafce655a32.png"></p>
<ol type="1" start="2">
<li>Change ‘columnName1&#39; to <strong>‘region&#39;</strong> and ‘value1&#39; to <strong>‘midwest&#39;</strong></li>
<li>Select ‘ <strong>Run   </strong>to render the changes.<br><br><img style="width: 514.50px" src="img/6b7cca2f920ea388.png"></li>
</ol>
<p>A variable can be used to programmatically set multiple values to offer the most flexibility.  Again multiple columns can be filtered. </p>
<ol type="1" start="2">
<li>Add one more filter to show only the data as of the last quarter. </li>
</ol>
<ol type="1" start="1">
<li>Copy the runtime filter code (lines 31 to 35) and paste it below the existing entry. </li>
<li>Modify ‘region&#39; in the 2nd run time filter to <strong>product type</strong> and change ‘midwest&#39; to ‘<strong>bags</strong>&#39;. </li>
<li>Select ‘ <strong>Run   </strong>to render the changes.</li>
</ol>
<p class="image-container"><img style="width: 426.90px" src="img/4f30d04e97255e96.png"><br></p>


      </google-codelab-step>
    
      <google-codelab-step label="Embed Search inside an app" duration="10">
        <p><em>Continue with your playground experience by embedding Search into the sample data app. </em></p>
<ol type="1" start="1">
<li>Select <strong>Search </strong> from the <strong>Playground</strong> menu.  <br></li>
</ol>
<p class="image-container"><img style="width: 518.06px" src="img/53f45ee24881f649.png"><br></p>
<ol type="1" start="2">
<li>The ‘Select feature to embed&#39; is already set to <strong>Search</strong>, select your datasource  and run to view it in the sample app</li>
</ol>
<ol type="1" start="1">
<li>Select your datasource  &#34;<strong>Sample Retail - Apparel</strong>&#34; from the drop-down selection menu and notice that upon choosing the datasource, the code window on the bottom left automatically highlights the code that you would copy/paste directly into your data app. <br><br><img style="width: 466.57px" src="img/2037ac8948a40c93.png"></li>
<li>Select ‘ <strong>Run   </strong>to render it in the sample SpotShop data app window.    <br><br><img style="width: 467.53px" src="img/b81b14bd87ea6fa5.png"></li>
</ol>
<p><em>Note: Search suggestions will automatically appear in the search bar based upon what you did previously.</em></p>
<ol type="1" start="3">
<li>Enter in the search bar:    Sales      Region       Monthly     </li>
<li>Then press <strong>Enter</strong>, Select <strong>Go</strong>, or <strong>click</strong> below the search bar to launch the query.  While you can change the chart time, keep this one for now.  </li>
</ol>
<p><em>Note: As an option you may want to enter some starting search tokens like    Sales      Region    and let the user add more before sending the live query to the cloud data warehouse. Do that in the next task.<br></em></p>


      </google-codelab-step>
    
      <google-codelab-step label="Modify Actions to present search tokens as a starting point" duration="10">
        <p><br>There are three search related actions [Collapse data panel, Hide data panel, Add search tokens] shown below.   You will apply all for this task to create a starting point search and allow the user add more and then initiate the search. </p>
<ol type="1" start="1">
<li>Select<strong> Collapse data panel </strong></li>
<li>Select <strong>Hide data panel </strong></li>
</ol>
<p><em>Notice the code change in the code window.</em></p>
<p class="image-container"><img style="width: 323.53px" src="img/b6669b9e00a696d.png"></p>
<ol type="1" start="3">
<li>Select <strong>Add search tokens</strong></li>
</ol>
<p class="image-container"><img style="width: 340.20px" src="img/78e43017db9058ea.png"></p>
<ol type="1" start="4">
<li>Make the following changes to add search tokens, turn off automatic search and test it.</li>
</ol>
<ol type="1" start="1">
<li>Enter &#34;<strong>[sales] [region]</strong>&#34; inside the ‘&#39; (single quotes for the searchTokenString  setting. </li>
<li>Change the &#34;true&#34; to &#34;<strong>false.</strong>&#34; for the executeSearch setting.</li>
<li>Select ‘ <strong>Run   </strong>to render the changes.</li>
</ol>
<p class="image-container"><img style="width: 472.50px" src="img/5a577c4737b3145d.png"></p>
<ol type="1" start="4">
<li>Enter &#34;<strong>Monthly</strong>&#34; in the search bar and press <strong>Go</strong> to run the search and voila, user self-service! </li>
</ol>
<p class="image-container"><img style="width: 468.50px" src="img/5acfd5c43ac1a9b9.png"></p>


      </google-codelab-step>
    
      <google-codelab-step label="Part 2: Embed ThoughtSpot into a ReactJS App" duration="0">
        <p>So far, we have created everything &#34;on-platform&#34;, using the low-code developer tools. In  Part 2, you will  build a webapp with a simple hamburger navigation. This app will be written in ReactJS, a very popular JavaScript framework, and use the Visual Embed SDK and ThoughtSpot React components to embed Search, Liveboards, and the full ThoughtSpot app into a webapp.</p>


      </google-codelab-step>
    
      <google-codelab-step label="Set up your local development environment" duration="15">
        <p>We are going to use React to build our web application. Installing and configuring React, and it&#39;s dependencies is different for each environment. This tutorial will use Mac OS as the example development environment. You can find steps to install React for Windows <a href="https://docs.microsoft.com/en-us/windows/dev-environment/javascript/react-on-windows" target="_blank">here</a>. For the Mac, you will need the following:</p>
<h2 is-upgraded><strong>Node.js &amp; NPM</strong></h2>
<p>NPM, is a very popular package management solution built with Node.js (thus the name, Node Package Manager). This tutorial will use NPM to install the React.js framework. Many Macs have Node and NPM already installed. You can check this by opening a terminal window and typing <code>$ node -v</code> If you do not see a successful response, go ahead and <a href="https://nodejs.org/en/download/" target="_blank">download the installer</a> for your platform. (Please use the LTS version. Occasionally the latest release has minor bugs). Once downloaded, double-click and follow the prompts to install.</p>
<h2 is-upgraded><strong>React Framework</strong></h2>
<p>With NPM installed, installing the React Framework is simple. Enter the following command in your terminal window:</p>
<pre>$ sudo npm install -g create-react-app</pre>
<p>You can verify the installation by typing:</p>
<pre>$ npm -v$create-react-app --version</pre>
<h2 is-upgraded><strong>VSCode</strong></h2>
<p>Whilst not required, a good IDE is certainly a productivity booster for many developers. Everyone has their own preference. Feel free to use your IDE of choice. For the examples within this tutorial, we will use VSCode. If you like it, you can <a href="https://code.visualstudio.com/download" target="_blank">download it for free</a> for your preferred platform.</p>


      </google-codelab-step>
    
      <google-codelab-step label="Install &amp; run starter app" duration="5">
        <p>To save some time, we will download an app template. This app contains a react app with a home page and a single subpage.  Open a terminal window and type the following: </p>
<pre>$ git clone https://github.com/thoughtspot/dev-workshop.git</pre>
<p>Once complete, change directories to <code>starter-app-template</code> and install the npm dependencies:</p>
<pre>$ npm install</pre>
<p>Assuming everything installed correctly, you can now test the starter app:</p>
<pre>$ npm start</pre>
<p class="image-container"><img style="width: 367.50px" src="img/cc94e94a45c83a2.png"></p>
<p>Within your IDE, open up App.jsx. There are two snippets of code worth noting. The BurgerMenu is an open source library which lets you create a hamburger style menu with flyout animation. Later, we will add links to the subpages here. The other tag of importance is the Routes. If you are new to React development, Routes are used to make a URI path to a JavaScript page/function. Currently, the app has a home route and an about route. We will use the Routes for our subpage logic. </p>
<pre>  &lt;div className=&#34;App&#34;&gt;
   
    &lt;header&gt;
      &lt;BurgerMenu/&gt;
    &lt;/header&gt;

    &lt;Routes&gt;
      &lt;Route path=&#34;/&#34; element={&lt;h1&gt;Home&lt;/h1&gt;} /&gt;
      &lt;Route path=&#34;/about&#34; element={&lt;About /&gt;} /&gt;
    &lt;/Routes&gt;
 ThoughtSpot Everywhere Starter App.
  &lt;/div&gt;</pre>
<h2 is-upgraded><strong>Add Visual Embed SDK to project</strong></h2>
<p>Now that we have a react app running locally, we need to add the Visual Embed SDK to the project and initialize the connection. From within the <code>starter-app-template</code> type the following:</p>
<pre>$ npm i @thoughtspot/visual-embed-sdk</pre>
<p>Then, in <code>App.jsx</code>, add the following directly after the existing imports.</p>
<pre>// ThoughtSpot
import {
 AuthType,
 init,
 Page,
} from &#34;@thoughtspot/visual-embed-sdk&#34;;

const TSURL = &#34;https://try.thoughtspot.cloud&#34;;</pre>
<p>And, initialize the connection within the <code>App()</code> function. ThoughtSpot Everywhere supports a <a href="https://docs.thoughtspot.com/visual-embed-sdk/release/en/?pageid=search-embed#_add_the_embed_domain" target="_blank">number of different authentication mechanisms</a>. For this tutorial, we are using <code>AuthType.None</code>. <code>AuthType.None</code> will prompt you for login credentials at runtime and store it as a session cookie. <code>AuthType.None</code> is not recommended for production use but works fine for our demo app. </p>
<pre> init({
   thoughtSpotHost: TSURL,
   authType: AuthType.None
 });</pre>


      </google-codelab-step>
    
      <google-codelab-step label="Embed the search component" duration="15">
        <h2 is-upgraded><strong>Create the Search page</strong></h2>
<p>Next, we want to add a new page to embed a search component. Within your IDE, select the components folder and add a new file <code>search.js</code></p>
<p class="image-container"><img style="width: 624.00px" src="img/f040cdbf59ed2f32.gif"></p>
<p>Then, add the required React and Visual SDK import to search.js</p>
<pre>Import React from &#39;react&#39;
Import { SearchEmbed } from &#39;@thoughtspot/visual-embed-sdk/react&#39;;</pre>
<p>And, finally add a search function below your imports. This function will return a snippet of HTML which gets rendered on display. Within this snippet we want to embed  our answers component. Previously, in the Developer Playground section, you saw how you generate standard JavaScript code. For your convenience, the Visual Embed SDK also ships with React components. In this example, we will use the SearchEmbed component. You can view a complete example of search.js <a href="https://github.com/thoughtspot/quickstarts/blob/main/react-starter-app/src/components/search.js" target="_blank">here</a>.</p>
<pre>export default function Search() {
 return (
      &lt;div&gt;
          &lt;h1&gt;Search&lt;/h1&gt;
          &lt;p&gt;
           This Search uses the Sample Retail - Apparel datasource which comes with the ThoughtSpot Free Trial account.
           You can also use the &lt;a href=&#34;https://try.thoughtspot.cloud/#/develop/playground/search&#34; target=&#34;_blank&#34;&gt;Developer Playground&lt;/a&gt; to configure additional parameters.
          &lt;/p&gt;
          &lt;p&gt;&amp;nbsp;&lt;/p&gt;
          &lt;SearchEmbed frameParams=&#123;&#123;hideDataSources: &#34;true&#34;, height: &#34;80vw&#34;}} answerId={&#34;cd252e5c-b552-49a8-821d-3eadaa049cca&#34;}/&gt;
      &lt;/div&gt;
  )
}</pre>
<p>Looking at the search embed component, you will see parameters you are already familiar with from the Developer Playground task previously. Go ahead and add or remove parameters based on those <a href="https://developers.thoughtspot.com/docs/?pageid=search-embed" target="_blank">available</a>. The most important parameter, however, is the answerId. If you remember from working with the Developer Playground, selecting a saved search  in the down down list inserted a unique id. We need this id to tell the SDK which element to fetch. Open up the Developer Playground, choose Search as the feature to embed, then <strong>Sales Analysis Liveboard </strong>from the  Select saved search dropdown. Copy the inserted id into your code between the double quotes, then save your file. That&#39;s it. Your search embed is complete.</p>
<h2 is-upgraded><strong>Add Search Routes </strong></h2>
<p>To add the new page to our navigation, we need to add the Search function to our Routes, then include the new route in the hamburger menu. Open <code>App.jsx</code> and add the following import. This tells our app where our search function resides</p>
<pre>import Search from &#39;./components/search&#39;</pre>
<p>Then, add a route to our function. Add this between the home and about routes within the <code>App()</code> function. The route tells our app that when we enter a URI, in this instance,  <code>/search</code> where we should route that request.</p>
<pre>&lt;Route path=&#34;/search&#34; element={&lt;Search /&gt;} /&gt;
</pre>
<p>Your complete App.jsx should now look like this:</p>
<pre>import &#39;./App.css&#39;;
import { Route, Routes} from &#34;react-router-dom&#34;;
import BurgerMenu from &#39;./components/burger/burgermenu&#39;;
import Search from &#39;./components/search&#39;
import About from &#39;./components/about&#39;;

import {
 AuthType,
 init,
 Page,
} from &#34;@thoughtspot/visual-embed-sdk&#34;;
 const TSURL = &#34;https://try.thoughtspot.cloud&#34;;
 init({
   thoughtSpotHost: TSURL,
   authType: AuthType.None
 });

function App() {


return (
  &lt;div className=&#34;App&#34;&gt;
   
    &lt;header&gt;
      &lt;BurgerMenu/&gt;
    &lt;/header&gt;

    &lt;Routes&gt;
      &lt;Route path=&#34;/&#34; element={&lt;h1&gt;Home&lt;/h1&gt;} /&gt;
      &lt;Route path=&#34;/search&#34; element={&lt;Search /&gt;} /&gt;
      &lt;Route path=&#34;/about&#34; element={&lt;About /&gt;} /&gt;
    &lt;/Routes&gt;
 ThoughtSpot Everywhere Starter App.
  &lt;/div&gt;
);
}
export default App;</pre>
<h2 is-upgraded><strong>Add Search to the hamburger menu</strong></h2>
<p>Finally, let&#39;s add the new route to the hamburger menu. Open <code>components/burger/burgermenu.js</code> and add the following code between the home and about links, similar to what you did with the Routes previously.</p>
<pre>&lt;a className=&#34;bm-item&#34; href=&#34;/search&#34;&gt;Search&lt;/a&gt;  </pre>
<h2 is-upgraded><strong>Run your app</strong></h2>
<p>Save everything, and run your app from the command line using <code>npm start</code>. If everything is completed correctly, you will be presented with the home page as before, but now, when you expand the hamburger menu you will have an additional link, Search, included. Tap that link to open the new page. Since this is your first time accessing the page you will be prompted to log into ThoughSpot. Use your free trial credential and login. You should now see your embedded search component. Great job! </p>


      </google-codelab-step>
    
      <google-codelab-step label="Bonus: Menu animations" duration="10">
        <p>One of the great things about developing with React is the wealth of third party libraries available. The <a href="https://www.npmjs.com/package/react-burger-menu" target="_blank">hamburger menu</a> we just used is a great example. This library saves a huge amount of effort in building typical app functionality. If you want to have fun with your app, try playing around with the <a href="https://negomi.github.io/react-burger-menu/" target="_blank">animations available in the hamburger menu</a> to give your menu a little extra bling. For example, my favorite is the Elastic animation. To use this animation to your app, open burgermenu.js and change the word slide for elastic in the react-burger-import statement.</p>
<pre>import { elastic as Menu } from &#34;react-burger-menu&#34;</pre>
<p>You can also easily change the menu location from the left hand side, the default, to right:</p>
<pre>&lt;Menu right noOverlay onStateChange={toggleMenu}&gt;  </pre>
<p>The react-burger-menu is a very useful react library. I highly recommend you check out all the features. It will save you a lot of time in your projects. </p>


      </google-codelab-step>
    
      <google-codelab-step label="Embed the liveboard component" duration="10">
        <p>Embedding a liveboard component is very similar to what you just completed with the Search component. You need to create a new page and add the Liveboard component, then add it to your routes and the hamburger menu. Let&#39;s jump right in.</p>
<h2 is-upgraded><strong>Create the Liveboard page</strong></h2>
<p>Add a new file, <code>liveboard.js</code> in the <code>components</code> directory, and use the Developer Playground to fetch the pinboardId for <strong>Sales Analysis Liveboard</strong>.</p>
<pre>import React from &#39;react&#39;
import { PinboardEmbed } from &#34;@thoughtspot/visual-embed-sdk/react&#34;;

export default function Liveboard() {
   return (
       &lt;div&gt;
           &lt;h1&gt;Liveboard&lt;/h1&gt;
           &lt;p&gt;
            This Search uses the Sales Performance liveboard which comes with the ThoughtSpot Free Trial account. 
            You can also use the &lt;a href=&#34;https://try.thoughtspot.cloud/#/develop/playground/pinboard&#34; target=&#34;_blank&#34;&gt;Developer Playground&lt;/a&gt; to configure additional parameters. 
           &lt;/p&gt;
           &lt;p&gt;&amp;nbsp;&lt;/p&gt;
           &lt;PinboardEmbed frameParams=&#123;&#123;height: &#34;80vw&#34;}}
                       pinboardId={&#34;d084c256-e284-4fc4-b80c-111cb606449a&#34;}/&gt;
       &lt;/div&gt;
   )
}</pre>
<p><strong>Information</strong>: Pinboards have recently been replaced by Liveboards. This change is taking place in phases. The first phase will be deployed December 2021 and will include product naming, navigation, and UI. Phase two, available in 2022 will update API paths, parameters and SDKs. Until Phase two is deployed, you will still need to refer to pinboards within any code related development. </p>
<h2 is-upgraded><strong>Add Liveboard Route</strong></h2>
<p>Open <code>App.jsx</code> and import the Liveboard function after the Search import:</p>
<pre>import Liveboard from &#39;./components/liveboard&#39;</pre>
<p>Then, add the function to the <code>Routes</code> element after the Search route:</p>
<pre>&lt;Route path=&#34;/liveboard&#34; element={&lt;Liveboard /&gt;} /&gt;</pre>
<h2 is-upgraded><strong>Add Liveboard to the hamburger menu</strong></h2>
<p>Open <code>components/burger/burgermenu.js</code> and add the link to the Liveboard route, after the Search navigation item:</p>
<pre>&lt;a className=&#34;bm-item&#34; href=&#34;/liveboard&#34;&gt;Liveboard&lt;/a&gt; </pre>
<h3 is-upgraded><strong>Run your app</strong></h3>
<p>Save everything and run your app to test the liveboard is embedded correctly. If your app was already running, since we added new files and a route, you may need to stop the process and start it again with <code>npm start.</code> </p>


      </google-codelab-step>
    
      <google-codelab-step label="Embed the full ThoughtSpot app" duration="10">
        <p>By now, you should be getting familiar with using the React components and adding them to your projects. The last type of component we will use is the FullApp component. As the name implies, this component embeds the full ThoughtSpot experience. Let&#39;s jump right in.</p>
<h2 is-upgraded><strong>Create the Fullapp page</strong></h2>
<p>Add a new file, <code>fullapp.js</code> in the <code>components</code> directory. You will notice in the AppEmbed component, we don&#39;t need to pass in a specific id, instead we can use <code>Page.*</code> attribute. This attribute refers to the pages or tabs within ThoughtSpot. For example, I could use <code>Page.Liveboards</code> to point directly to the Liveboards page. For our app, we are going to point to the ThoughtSpot home page, using <code>Page.Home</code>. For a complete list of values check out the <a href="https://developers.thoughtspot.com/docs/?pageid=full-embed" target="_blank">documentation</a>.</p>
<pre>import React from &#39;react&#39;
import { AppEmbed } from &#34;@thoughtspot/visual-embed-sdk/react&#34;

export default function FullApp() {
   return (
       &lt;div&gt;
           &lt;h1&gt;Full App&lt;/h1&gt;
           &lt;AppEmbed frameParams=&#123;&#123;height: &#34;80vw&#34;}} fullHeight=&#34;true&#34;
                     pageId=&#34;Page.Home&#34; /&gt;
       &lt;/div&gt;
   )
}</pre>
<h2 is-upgraded><strong>Add Fullapp route</strong></h2>
<p>Open <code>App.jsx</code> and import the Fullapp function after the Search import:</p>
<pre>import FullApp from &#39;./components/fullapp&#39;</pre>
<p>Then, add the function to the <code>Routes</code> element after the Liveboard route:</p>
<pre>&lt;Route path=&#34;/fullapp&#34; element={&lt;FullApp /&gt;} /&gt;</pre>
<h2 is-upgraded><strong>Add Fullapp to the hamburger menu</strong></h2>
<p>Open <code>components/burger/burgermenu.js</code> and add the link to the Liveboard route, after the Search navigation item:</p>
<pre>&lt;a className=&#34;bm-item&#34; href=&#34;/fullapp&#34;&gt;Full App&lt;/a&gt; </pre>
<h2 is-upgraded><strong>Run your app</strong></h2>
<p>Save everything and run your app. </p>
<p>At this stage, you&#39;ve completed your app and should have a great understanding of how you can use the Visual Embed SDK. Give yourself a pat on the back. Great job! If you run out of time, or are having trouble getting everything working, check out<a href="https://github.com/thoughtspot/quickstarts/tree/main/react-starter-app" target="_blank"> the completed app</a> and compare your code. </p>


      </google-codelab-step>
    
      <google-codelab-step label="Part 3: Intro to ThoughtSpot TML &amp; APIs" duration="0">
        <p>ThoughtSpot Everywhere provides a rich suite of APIs for search, user controls, and platform metadata. These APIs can be especially useful for sharing data with partners via webhooks, building native mobile apps, providing results in json format for third-party charting libraries like D3, or scripting ThoughtSpot configuration to support devops and continuous integration toolchains. </p>
<p>ThoughtSpot metadata is referred to as  ThoughtSpot Modeling Language, or TML. TML is a JSON-based definition of configuration and elements within your ThoughtSpot instance.  The answers, liveboards, and data model you have used throughout this tutorial are all defined in TML. This makes TML very powerful for many administrative and devops tasks. For example, you can use the APIs and TML as part of a deployment script  to export a liveboard from a test environment and push it to  production. In this section, we will introduce the ThoughtSpot Everywhere Rest APIs by  using Postman, a free IDE designed for working with APIs. We will also demonstrate how, using TML you can retrieve ThoughtSpot elements for storing in version control or make changes for different environments.</p>
<p>In Part 3, you will learn how to use the ThoughtSpot Modeling Language and the ThoughtSpot Everywhere APIs to perform typical devops functions</p>


      </google-codelab-step>
    
      <google-codelab-step label="Install &amp; Configure Postman" duration="10">
        <p>Start by downloading Postman and install it on your machine. Whilst Postman is not necessary, it makes it much easier to set up API endpoints and get request headers and parameters correct before adding commands to any sort of larger process. This way, you know my API calls are correct and always have a way of testing independently of other systems. If you prefer not to use Postman, all of the API calls can be completed using cURL or the <a href="https://www.thoughtspot.com/blog/the-developer-playground-now-supports-rest-api" target="_blank">new Rest API Playground</a>. </p>
<h2 is-upgraded><strong>Global environment variables</strong></h2>
<p>Once downloaded, you will need to set up a couple of global environment variables. These variables are dynamically inserted into your commands similar to the way a variable in a bash script works. Global variables make switching between environments quick and keep sensitive information like usernames and passwords separate. For working with ThoughtSpot,it is good practice to create a set of variables per environment (e.g.dev, test, staging, production, etc.)  and add three global variables to it.  Go ahead and tap on environments, then + to add a new set. Let&#39;s call it <strong>TSE Workshop</strong>. Once created, add the following three variables.</p>
<p class="image-container"><img style="width: 624.00px" src="img/500e633d07f0abd3.gif"></p>
<table>
<tr><td colspan="1" rowspan="1"><p>domain</p>
</td><td colspan="1" rowspan="1"><p>The url of the cloud instance you are connecting to. For a trial instance, it is <code>https://try.thoughtspot.cloud/callosum/v1</code></p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p>username</p>
</td><td colspan="1" rowspan="1"><p>The username of your ThoughtSpot account</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p>password</p>
</td><td colspan="1" rowspan="1"><p>The password of your ThoughtSpot account</p>
</td></tr>
</table>
<p><strong>Note</strong>:Make sure you tap save to persist your changes. Even though you may have changed the values, they are not reflected in Postman until you save them.</p>
<h2 is-upgraded><strong>Add ThoughtSpot collection</strong></h2>
<p>To save developer&#39;s time, we have created a GitHub project with a set of ThoughtSpot APIs defined as a Postman collection. Over time, more endpoints will be added to this project. Make sure you follow and star it to keep up to date. For now, go ahead and <a href="https://github.com/thoughtspot/ts_everywhere_resources/tree/master/apis/postman" target="_blank">download the collection</a>. Then, import the ThoughtSpot collection by navigating to <strong>Collections &gt; Import</strong>, and selecting the file you downloaded. </p>
<p class="image-container"><img style="width: 255.00px" src="img/e49e99c18f852ca0.png"></p>
<p>To keep things neat, it is a good idea to adopt a naming convention that begins with a prefix which identifies the category and ends with what the function does. As you add more endpoints, a consistent naming convention makes it easy to find the function, and it aligns well with how the <a href="https://developers.thoughtspot.com/docs/?pageid=rest-api-reference" target="_blank">API docs</a> are categorized. In the example below, we are using the Connection API to list all CDW connections in a ThoughtSpot instance. You can also see in the URL field the use of the <code>&#123;&#123;domain}}</code> variable we created. </p>
<p><strong>Note</strong>: In order to ensure you are using the correct values, don&#39;t forget to select the environment from the dropdown on the top right of the workspace. </p>
<p class="image-container"><img style="width: 624.00px" src="img/addf2521e1eb90ab.png"></p>


      </google-codelab-step>
    
      <google-codelab-step label="API Authentication" duration="5">
        <p>Almost every task involving APIs requires authentication via login. Let&#39;s use this to get yourself familiar with what is required from ThoughtSpot, and a general understanding of how Postman works. Start by having your Connections workspace open in Postman and selecting Login. Most ThoughtSpot API requests require standard headers such as Content-Type and a Requested-By identifier the platform uses to determine payload formats. For login, the most important is the body attributes required to be passed in via a POST.  Here you can see where the global variables are being used to make it more convenient for you. </p>
<p>Make sure your environment is set to <strong>TSE Workshop</strong>, then tap send. The server response will appear in the bottom section of Postman showing the status of your request, and options for formatting the output. In the example below, the login attempt was unsuccessful because the user account has expired. </p>
<p class="image-container"><img style="width: 624.00px" src="img/635f62bc6e1169c2.png"></p>
<p>If you received an error message, double check your username and password global variables are correct, and the environment is set to <strong>TSE Workshop</strong>. When you receive a HTTP 200 message, you have successfully authenticated and an auth token is assigned to your postman session. </p>


      </google-codelab-step>
    
      <google-codelab-step label="Retrieve TML for Answers" duration="10">
        <p>Now that you have successfully authenticated, let&#39;s use the metadata API to retrieve a list of Answer elements from your environment. We will use the metadata/list endpoint to return a TML definition of all answers in ThoughtSpot.</p>
<h2 is-upgraded><strong>List all Answers</strong></h2>
<p>Within your Postman collection, select Metadata - List. This endpoint takes a single parameter type. Type allows you to choose <a href="https://developers.thoughtspot.com/docs/?pageid=metadata-api#metadata-list" target="_blank">which type of element </a>you want to return. We are using QUESTION_ANSWER_BOOK. Tap Send and you should see a response appear in the lower window. If your response looks like a long string of JSON, make sure you change the response format to <strong>JSON</strong> and select <strong>Pretty</strong> in the response window.</p>
<p class="image-container"><img style="width: 624.00px" src="img/518d3c7100c46852.png"></p>
<h2 is-upgraded><strong>Retrieve answer TML</strong></h2>
<p>Next, we want to retrieve the tml definition of the <strong>Sales Analysis Liveboard</strong> answer we created earlier. To do this, we need to use the answer id and use this as a parameter for the tml/export API endpoint. You can either retrieve this id from Developer Playound, the search.js page, or simply by searching the TML returned in the previous step for &#34;Sales Analysis Liveboard&#34;. Once you have the id, add it to the export_ids array in the TML - Export connection. This connection uses metadata/tml/export endpoint, which requires a HTTP POST. The export_ids must be passed as a body element. </p>
<p class="image-container"><img style="width: 624.00px" src="img/5204485e05a8f369.png"></p>
<p>Once you have added the correct id, tap Send and see the TML payload returned in the lower window. This TML is an example of a file you would likely store in source control as a backup for your environments configuration.  Within the Postman response window, make sure the format is set to JSON, the means your IDEs and editors will automatically recognize the format and use correct syntax highlighting. </p>


      </google-codelab-step>
    
      <google-codelab-step label="Push TML changes to new environment" duration="10">
        <h2 is-upgraded><strong>Prepare TML payload</strong></h2>
<p>The output of the <code>tml/export</code> task above includes a json envelope which describes the tml.  We are going to simulate importing this into a different environment such as production via the API. First, we need to remove the envelope. If you were doing this in a real environment, you would write a script to extract the required element, or use an open source toolkit like <a href="https://github.com/thoughtspot/ts_rest_api_and_tml_tools" target="_blank">TML tools</a>, written by ThoughtSpot.  For the workshop, we will simply copy the element we need.</p>
<p>Select all of the output from the tml/export in the Postman response window, making sure the output is set to JSON and Pretty. Copy the contents to the clipboard. Then, open your IDE and create a new file. Paste the contents into this file. Now select and copy the value of the edoc key, including the double quotes. (This will start with <code>"guid</code>). </p>
<p>If you prefer not to copy and paste, and already have python installed on your computer, you may want to use <a href="https://gist.github.com/quintonwall/2ee0fbd2a65e2e6c6caaed7dcf436e2c" target="_blank">this handy helper utility</a> to correctly extract edoc data. </p>
<p class="image-container"><img style="width: 624.00px" src="img/bf7131f77f6ba23e.png"></p>
<h2 is-upgraded><strong>TML import</strong></h2>
<p>Return to Postman and select the <strong>TML - Import (Validate)</strong> collection item. Tap the <strong>Body</strong> tab and replace the value of the <code>import_objects</code> within the <code>[]</code> with your snippet. Then, tap save. You will notice that we have the <code>import_policy</code> set to <code>VALIDATE_ONLY</code>. We can use this policy to test our TML syntax without actually writing the file. If you want to make a destructive change and write the TML you can do so using the <code>PARTIAL</code> or <code>ALL_OR_NOTHING</code> policy.</p>
<p class="image-container"><img style="width: 624.00px" src="img/96e497f1e7e1a4c2.gif"></p>
<p>When you are ready, tap send to execute the request. Congratulations, you just learned how to use TML and the metadata APIs to complete a typical devops process with ThoughtSpot. </p>


      </google-codelab-step>
    
      <google-codelab-step label="What&#39;s next?" duration="5">
        <p>Congratulations! You have completed the Embed Analytics with ThoughtSpot Everywhere Developer Workshop. The free trial environment you signed up for is good for 30 days to help you continue to learn ThoughtSpot and build out your own app. If you have any questions, make sure you check out the reference guides below, or <a href="https://community.thoughtspot.com/customers/s/topic/0TO3n000000erVyGAI/developers" target="_blank">post a question to the developer forum</a> in our community page. </p>
<h2 is-upgraded><strong>Reference Guides</strong></h2>
<ul>
<li>ThoughtSpot Developers home: <a href="https://developers.thoughtspot.com" target="_blank">https://developers.thoughtspot.com</a> </li>
<li>ThoughtSpot Everywhere documentation: <a href="https://developers.thoughtspot.com/docs/?pageid=introduction" target="_blank">https://developers.thoughtspot.com/docs/?pageid=introduction</a> </li>
<li>Quickstarts &amp; Tutorials: <a href="https://developers.thoughtspot.com/guides" target="_blank">https://developers.thoughtspot.com/guides</a></li>
<li>Visual Embed SDK JavaScript Reference: <a href="https://developers.thoughtspot.com/docs/typedoc/index.html" target="_blank">https://developers.thoughtspot.com/docs/typedoc/index.html</a> </li>
</ul>
<h2 is-upgraded>                                                                                <img style="width: 156.00px" src="img/5b50087ff36f290e.png"></h2>


      </google-codelab-step>
    
  </google-codelab>

  <script src="https://storage.googleapis.com/codelab-elements/native-shim.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/custom-elements.min.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/prettify.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/codelab-elements.js"></script>
  <script src="//support.google.com/inapp/api.js"></script>

</body>
</html>
